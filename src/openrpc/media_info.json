{
    "openrpc": "1.2.4",
    "info": {
        "title": "MediaInfo",
        "description": "A module for query info about the media currently in the app's media pipeline (either playing or paused).",
        "version": "0.0.0"
    },
    "methods": [
        {
            "name": "audioChannels",
            "summary": "Get the number of audio channels currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:audio-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "audioChannels",
                "summary": "Number of audio channels used by the pipeline.",
                "type": "integer"
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": 2
                    }
                }
            ]
        },
        {
            "name": "audioCodec",
            "summary": "Get the audio codec currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:audio-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "audioCodec",
                "summary": "Audio codec used by the pipeline.",
                "schema": {
                    "$ref": "https://meta.rdkcentral.com/firebolt/schemas/media#/definitions/AudioCodec"
                }
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": "ac3"
                    }
                }
            ]
        },
        {
            "name": "audioCodecLevel",
            "summary": "Get the audio codec level currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:audio-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "audioCodecLevel",
                "summary": "Audio codec level used by the pipeline.",
                "schema": {
                    "$ref": "https://meta.rdkcentral.com/firebolt/schemas/media#/definitions/AudioCodecLevel"
                }
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": "5.1"
                    }
                }
            ]
        },
        {
            "name": "audioCodecProfile",
            "summary": "Get the audio codec profile currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:audio-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "audioCodecProfile",
                "summary": "Audio codec profile used by the pipeline.",
                "schema": {
                    "$ref": "https://meta.rdkcentral.com/firebolt/schemas/media#/definitions/AudioCodecProfile"
                }
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": "high"
                    }
                }
            ]
        },
        {
            "name": "audioContainer",
            "summary": "Get the audio container currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:audio-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "audioContainer",
                "summary": "Audio container used by the pipeline.",
                "schema": {
                    "$ref": "https://meta.rdkcentral.com/firebolt/schemas/media#/definitions/AudioContainer"
                }
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": "m4a"
                    }
                }
            ]
        },
        {
            "name": "audioSampleRate",
            "summary": "Get the audio sample rate in kHz currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:audio-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "audioSampleRate",
                "summary": "Audio sample rate in kHz for the pipeline.",
                "type": "integer"
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": 48
                    }
                }
            ]
        },
        {
            "name": "onAudioFormatChanged",
            "summary": "Subscribe to audio format changes to the specified media pipeline.",
            "tags": [
                {
                    "name": "event",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:audio-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "value",
                "summary": "The type of audio format change",
                "schema": {
                    "$ref": "#/components/schemas/AudioFormatChangeEvent"
                }
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": "audioCodec"
                    }
                }
            ]
        },
        {
            "name": "onVideoFormatChanged",
            "summary": "Subscribe to video format changes to the specified media pipeline.",
            "tags": [
                {
                    "name": "event",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:video-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "value",
                "summary": "The type of video format change",
                "schema": {
                    "$ref": "#/components/schemas/VideoFormatChangeEvent"
                }
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": "videoResolution"
                    }
                }
            ]
        },
        {
            "name": "videoCodec",
            "summary": "Get the video codec currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:video-codec"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "Video codec",
                "summary": "Video codec for the pipeline.",
                "schema": {
                    "$ref": "https://meta.rdkcentral.com/firebolt/schemas/media#/definitions/VideoCodec"
                }
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": "h265"
                    }
                }
            ]
        },
        {
            "name": "videoCodecLevel",
            "summary": "Get the video codec level currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:video-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "Video codec level",
                "summary": "Video codec level for the pipeline.",
                "type": "string"
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": "5.1"
                    }
                }
            ]
        },
        {
            "name": "videoCodecProfile",
            "summary": "Get the video codec profile currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:video-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "Video codec profile",
                "summary": "Video codec profile for the pipeline.",
                "schema": {
                    "type": "string"
                }
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": "high"
                    }
                }
            ]
        },
        {
            "name": "videoContainer",
            "summary": "Get the video container currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:video-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "Video container",
                "summary": "Video container for the pipeline.",
                "schema": {
                    "ref": "https://meta.rdkcentral.com/firebolt/schemas/media#/definitions/VideoContainer"
                }
            }
        },
        {
            "name": "videoDynamicRangeProfile",
            "summary": "Get the High Dynamic Range (HDR) profile currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:video-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "hdrProfile",
                "summary": "The HDR profile",
                "schema": {
                    "$ref": "https://meta.rdkcentral.com/firebolt/schemas/media#/definitions/DynamicRangeProfile"
                }
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": "hdr10plus"
                    }
                }
            ]
        },
        {
            "name": "videoResolution",
            "summary": "Get the video resolution currently used by the specified media pipeline.",
            "tags": [
                {
                    "name": "property:readonly",
                    "x-session": "sessionId",
                    "x-session-name": "mediaSession"
                },
                {
                    "name": "capabilities",
                    "x-uses": [
                        "xrn:firebolt:capability:media-info:video-format"
                    ]
                }
            ],
            "params": [
                {
                    "name": "pipeline",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/PipelineId"
                    }
                }
            ],
            "result": {
                "name": "resolution",
                "summary": "The video resolution",
                "schema": {
                    "$ref": "https://meta.rdkcentral.com/firebolt/schemas/media#/definitions/Resolution"
                }
            },
            "examples": [
                {
                    "name": "Default Example",
                    "params": [
                        {
                            "name": "pipeline",
                            "value": 1
                        }
                    ],
                    "result": {
                        "name": "Default Result",
                        "value": [
                            1920,
                            1080
                        ]
                    }
                }
            ]
        }
    ],
    "components": {
        "schemas": {
            "AudioFormatChangeEvent": {
                "type": "string",
                "description": "The type of audio format change",
                "enum": [
                    "audioChannels",
                    "audioCodec",
                    "audioCodecLevel",
                    "audioCodecProfile",
                    "audioContainer",
                    "audioSampleRate"
                ]
            },
            "PipelineId": {
                "type": "integer",
                "description": "The media pipeline/session ID",
                "minimum": 1,
                "maximum": 15
            },
            "VideoFormatChangeEvent": {
                "type": "string",
                "description": "The type of video format change",
                "enum": [
                    "videoCodec",
                    "videoCodecLevel",
                    "videoCodecProfile",
                    "videoContainer",
                    "videoDynamicRangeProfile",
                    "videoResolution"
                ]
            }
        }
    }
}
